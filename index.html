<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para maryan </title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<nav class="nav-horizontal oculto" id="nav">
    <a href="index.html">Spawn</a>
    <a href="lore.html">Lore</a>
    <a href="galeria.html">Galeria</a>

</nav>
 <img id="gifIzq" class="gif-lado gif-izq" src="gif1.gif">

<img id="gifDer" class="gif-lado gif-der" src="gif2.gif">

<h1>Esta canciÃ³n es para </h1>
<button id="playBtn" class="play-btn">â–¶</button>
<div class="volumen">
    <span>ðŸ”Š</span>
    <input type="range" id="volumen" min="0" max="1" step="0.01" value="0.7">
</div>
<div class="progreso">
    <span id="tiempo-actual">0:00</span>

    <input type="range" id="barra" min="0" max="100" value="0">

    <span id="tiempo-total">0:00</span>
</div>



<audio id="audio">
    <source src="Donchano - Steve Lacy.mp3" type="audio/mp3">
</audio>


<div class="corazon-wrap corazon-izq">
<img id="corazonIzq" class="corazon-izq" src="colazon.png">    
</div>
<div class="corazon-wrap corazon-der">
<img id="corazonDer" class="corazon-der" src="colazon.png">
</div>


<br>


<audio id="audio">
    <source src="Donchano - Steve Lacy.mp3" type="audio/mp3">
</audio>
<div class="letra">
<div class="linea" data-tiempo="0"> Intro</div>
<div class="linea" data-tiempo="13">Don't ya know? You're beautiful</div>
<div class="linea" data-tiempo="17">You're different, unusual</div>
<div class="linea" data-tiempo="20">I love your style, it's original</div>
<div class="linea" data-tiempo="23">Seem so unreal, like you're mythical</div>
<div class="linea" data-tiempo="27">Don't ya know?</div>
<div class="linea" data-tiempo="30">Girl, don't ya know?</div>
<div class="linea" data-tiempo="34">Hey, don't ya know?</div>
<div class="linea" data-tiempo="37">I know you know</div>
<div class="linea" data-tiempo="41">Baby, I know that you don't see yourself as one of them</div>
<div class="linea" data-tiempo="48">But honestly, girl, I believe that you're a hundred out of ten</div>
<div class="linea" data-tiempo="55">You've been going through some things (I want you to feel better)</div>
<div class="linea" data-tiempo="58">And if you're feeling cold (here, put on my sweater)</div>
<div class="linea" data-tiempo="62">But when you're feeling down (I hope you can remember)</div>
<div class="linea" data-tiempo="65">I hope you can remember this</div>
<div class="linea" data-tiempo="69">Don't ya know? You're beautiful</div>
<div class="linea" data-tiempo="72">You're different, unusual</div>
<div class="linea" data-tiempo="76">I love your style, it's original</div>
<div class="linea" data-tiempo="79">Seem so unreal, like you're mythical</div>
<div class="linea" data-tiempo="83">Don't ya know?</div>
<div class="linea" data-tiempo="86">Girl, don't ya know?</div>
<div class="linea" data-tiempo="89">Hey, don't ya know?</div>
<div class="linea" data-tiempo="93">I know you know</div>
</div>
<script>


document.addEventListener("DOMContentLoaded", () => {

    const audio = document.getElementById("audio");
    const gifIzq = document.getElementById("gifIzq");
    const gifDer = document.getElementById("gifDer");
    const btn = document.getElementById("playBtn");
    const controlVolumen = document.getElementById("volumen");
   

const barra = document.getElementById("barra");
const tiempoActual = document.getElementById("tiempo-actual");
const tiempoTotal = document.getElementById("tiempo-total");


function formatoTiempo(segundos) {
    const min = Math.floor(segundos / 60);
    const sec = Math.floor(segundos % 60);
    return `${min}:${sec < 10 ? "0" : ""}${sec}`;
}

/* DuraciÃ³n */
audio.addEventListener("loadedmetadata", () => {
    tiempoTotal.textContent = formatoTiempo(audio.duration);
});


audio.addEventListener("timeupdate", () => {
    const progreso = (audio.currentTime / audio.duration) * 100;
    barra.value = progreso;
    tiempoActual.textContent = formatoTiempo(audio.currentTime);
});


barra.addEventListener("input", () => {
    audio.currentTime = (barra.value / 100) * audio.duration;
});



audio.volume = 0.7;

controlVolumen.addEventListener("input", () => {
    audio.volume = controlVolumen.value;
});



btn.addEventListener("click", () => {
    if (audio.paused) {
        audio.play();
        btn.textContent = "âšâš";
    } else {
        audio.pause();
        btn.textContent = "â–¶";
    }
});



    const corazonIzq = document.querySelector(".corazon-izq");
    const corazonDer = document.querySelector(".corazon-der");

    let escenaActual = -1;

    const escenasCoro = [
        { inicio: 0,  fin: 13, izq: "gif2.gif", der: "gif2.gif" },
        { inicio: 13, fin: 23, izq: "gif4.gif", der: "gif4.gif" },
        { inicio: 41, fin: 65, izq: "gif1.gif", der: "gif1.gif" },
        { inicio: 67, fin: 79, izq: "gif3.gif", der: "gif3.gif" },
        { inicio: 72, fin: 83, izq: "gif5.gif", der: "gif5.gif" },
        { inicio: 83, fin: 97, izq: "gif7.gif", der: "gif7.gif" }
    ];

    const lineas = document.querySelectorAll(".linea");
    const letra = document.querySelector(".letra");
    const nav = document.getElementById("nav");
    document.addEventListener("mousemove", (e) => {
    if (e.clientY < 80) {
        nav.classList.remove("oculto");
    } else {
        nav.classList.add("oculto");
    }
});
document.addEventListener("touchstart", (e) => {
    if (e.touches[0].clientY < 80) {
        nav.classList.remove("oculto"); 
    }
});

    audio.addEventListener("timeupdate", () => {
        const t = audio.currentTime;

        /*  Corazones */
        if (t >= 13 && t <= 98) {
            corazonIzq.classList.add("corazon-visible");
            corazonDer.classList.add("corazon-visible");
        } else {
            corazonIzq.classList.remove("corazon-visible");
            corazonDer.classList.remove("corazon-visible");
        }

        /*  GFs */
        let escenaEncontrada = -1;
        escenasCoro.forEach((escena, i) => {
            if (t >= escena.inicio && t < escena.fin) escenaEncontrada = i;
        });

        if (escenaEncontrada !== -1 && escenaEncontrada !== escenaActual) {
            gifIzq.src = escenasCoro[escenaEncontrada].izq;
            gifDer.src = escenasCoro[escenaEncontrada].der;
            gifIzq.classList.add("gif-visible");
            gifDer.classList.add("gif-visible");
            escenaActual = escenaEncontrada;
        }

        if (escenaEncontrada === -1) {
            gifIzq.classList.remove("gif-visible");
            gifDer.classList.remove("gif-visible");
            escenaActual = -1;
        }

        /* Letras */
        lineas.forEach((linea, index) => {
            const tiempo = parseFloat(linea.dataset.tiempo);
            const siguiente = lineas[index + 1]
                ? parseFloat(lineas[index + 1].dataset.tiempo)
                : Infinity;

            linea.classList.toggle("activa", t >= tiempo && t < siguiente);
            linea.classList.toggle("visible", t >= tiempo - 1 && t < siguiente);
        });
    });

});
</script>


</body>
</html>
